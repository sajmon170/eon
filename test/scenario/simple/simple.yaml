general:
  # stop after 10 simulated seconds
  stop_time: 10s
  # old versions of cURL use a busy loop, so to avoid spinning in this busy
  # loop indefinitely, we add a system call latency to advance the simulated
  # time when running non-blocking system calls
  model_unblocked_syscall_latency: true

network:
  graph:
    # use a built-in network graph containing
    # a single vertex with a bandwidth of 1 Gbit
    type: 1_gbit_switch

hosts:
  bootstrap:
    network_node_id: 0
    ip_addr: 11.0.0.1
    processes:
    - path: /usr/local/app/eon-client/eon-client
      args: |
        --stdout --log-level debug --bootstrap-mode --secret-key-seed 1 --script
        "[!Wait {time: 10s}]"
      expected_final_state: running

  object-provider:
    network_node_id: 0
    processes:
    - path: /usr/local/app/eon-client/eon-client
      args: |
        --stdout --log-level debug --bootstrap-addr 11.0.0.1 --secret-key-seed 12 --script 
        "[!Wait {time: 2s}, !Publish {path: /usr/local/app/test.txt}, !Wait {time: 10s}]"
      expected_final_state: running

  object-consumer:
    network_node_id: 0
    processes:
    - path: /usr/local/app/eon-client/eon-client
      args: |
        --stdout --log-level debug --bootstrap-addr 11.0.0.1 --script
        "[!Wait {time: 4s}, !Get {id: "tfu/bZlxQcGmmf/CqI23mYdDunY90GVF8MVjXNnOVtc="}, !Wait {time: 10s}]"
      expected_final_state: running
